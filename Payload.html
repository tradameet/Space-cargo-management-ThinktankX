<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Payload - ThinkTankX</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(120deg, #e6f0ff, #cce0ff);
      color: #000;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      overflow-x: hidden;
    }
    header {
      background: linear-gradient(90deg, #0047ab, #005ce6);
      color: white;
      padding: 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 2rem;
      font-weight: 600;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      flex-wrap: wrap;
    }
    .search-bar input {
      padding: 10px 18px;
      border-radius: 25px;
      border: none;
      outline: none;
      font-size: 1rem;
      width: 220px;
    }
    .container {
      padding: 40px;
      max-width: 1100px;
      margin: auto;
    }
    h2 {
      color: #003380;
      text-align: center;
      margin-bottom: 25px;
      font-size: 28px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 40px;
      background-color: white;
      border-radius: 15px;
      overflow: hidden;
      margin-left: auto;
      margin-right: auto;
    }
    th, td {
      padding: 14px 12px;
      text-align: center;
      border-bottom: 1px solid #ddd;
    }
    th {
      background-color: #0047ab;
      color: white;
      font-weight: 600;
    }
    tr:hover {
      background-color: #f2f8ff;
    }
    .highlight {
      background-color: #7dbbff !important;
    }
    .form-section {
      background-color: #ffffff;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
      text-align: center;
    }
    .form-section label,
    .form-section input,
    .form-section select,
    .form-section button {
      font-size: 1rem;
      margin: 12px;
    }
    .form-section input,
    .form-section select {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #aaa;
      width: 200px;
    }
    .form-section button {
      background-color: #0047ab;
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .form-section button:hover {
      background-color: #0066ff;
    }
    .chart-section {
      padding: 0;
    }
    .chart-container {
      background-color: white;
      border-radius: 10px;
      padding: 30px;
      box-shadow: 0px 4px 15px rgba(0,0,0,0.1);
      width: 89%;
      max-width: 500px;
      margin: auto;
    }
    canvas {
      width: 100% !important;
      height: auto !important;
    }
    .bottom-section {
      display: flex;
      gap: 30px;
      justify-content: space-between;
      align-items: flex-start;
      flex-wrap: wrap;
    }
    .form-section, .chart-section {
      flex: 1 1 45%;
    }
    @media (max-width: 768px) {
      header {
        flex-direction: column;
        font-size: 1.5rem;
        padding: 15px;
      }
      .search-bar {
        margin-top: 10px;
      }
      .search-bar input {
        width: 100%;
        max-width: 300px;
      }
      .container {
        padding: 20px;
      }
      .form-section {
        padding: 20px 10px;
      }
      .form-section input,
      .form-section select {
        width: 100%;
        max-width: 300px;
      }
      .form-section label,
      .form-section input,
      .form-section select,
      .form-section button {
        display: block;
        margin: 10px auto;
        text-align: center;
      }
      table {
        font-size: 0.9rem;
        display: block;
        overflow-x: auto;
        white-space: nowrap;
      }
      .bottom-section {
        flex-direction: column;
      }
      .chart-container {
        padding: 20px;
      }
      h2 {
        font-size: 22px;
      }
    }
  </style>
</head>
<body>

  <header>
    ðŸš€ThinkTankX - Payload
    <div class="search-bar">
      <input type="text" id="searchInput" list="payloadList" placeholder="Search payload..."/>
      <datalist id="payloadList">
        <option value="Satellite">
        <option value="Rover">
        <option value="Scientific Equipment">
        <option value="Medical Supplies">
        <option value="Communication Module">
        <option value="Camera Module">
        <option value="Fuel Canister">
      </datalist>
    </div>
  </header>

  <div class="container">
    <h2>Payload Inventory</h2>
    <table id="payloadTable">
      <thead>
        <tr>
          <th>Item Name</th>
          <th>Category</th>
          <th>Weight</th>
          <th>Unit</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>Satellite</td><td>Communication</td><td>500</td><td>Kg</td><td>Deployed</td></tr>
        <tr><td>Rover</td><td>Exploration</td><td>750</td><td>Kg</td><td>Active</td></tr>
        <tr><td>Scientific Equipment</td><td>Research</td><td>300</td><td>Kg</td><td>Ready</td></tr>
        <tr><td>Medical Supplies</td><td>Support</td><td>100</td><td>Kg</td><td>Available</td></tr>
        <tr><td>Communication Module</td><td>System</td><td>150</td><td>Kg</td><td>Operational</td></tr>
        <tr><td>Camera Module</td><td>Observation</td><td>200</td><td>Kg</td><td>Installed</td></tr>
        <tr><td>Fuel Canister</td><td>Energy</td><td>800</td><td>Kg</td><td>Full</td></tr>
      </tbody>
    </table>

    <div class="chart-container">
      <h2>Payload Weight Distribution</h2>
      <canvas id="payloadPieChart"></canvas>
    </div>
  </div>

  <script>
    const payloadLabels = [
      "Satellite",
      "Rover",
      "Scientific Equipment",
      "Medical Supplies",
      "Communication Module",
      "Camera Module",
      "Fuel Canister"
    ];

    const payloadWeights = [500, 750, 300, 100, 150, 200, 800];
    const totalWeight = payloadWeights.reduce((sum, w) => sum + w, 0);

    const colors = [
      "#00BFFF", "#FFA07A", "#98FB98", "#FF6347",
      "#FFD700", "#BA55D3", "#8B4513"
    ];

    const ctx = document.getElementById("payloadPieChart").getContext("2d");

    new Chart(ctx, {
      type: "pie",
      data: {
        labels: payloadLabels,
        datasets: [{
          data: payloadWeights,
          backgroundColor: colors,
          borderColor: "#ffffff",
          borderWidth: 2
        }]
      },
      options: {
        responsive: true,
        plugins: {
          title: {
            display: true,
            text: "Payload Weight Distribution",
            font: { size: 18 },
            color: "#0047ab"
          },
          legend: {
            position: "bottom",
            labels: { color: "#000" }
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                const label = context.label;
                const value = context.raw;
                const percent = ((value / totalWeight) * 100).toFixed(1);
                return `${label}: ${value} Kg (${percent}%)`;
              }
            }
          }
        }
      }
    });

    // Highlight table row on search
    document.getElementById("searchInput").addEventListener("input", function () {
      const searchValue = this.value.toLowerCase();
      document.querySelectorAll("#payloadTable tbody tr").forEach(row => {
        row.classList.remove("highlight");
        if (row.cells[0].textContent.toLowerCase() === searchValue) {
          row.classList.add("highlight");
        }
      });
      this.value = "";
    });
  </script>

</body>
</html>
